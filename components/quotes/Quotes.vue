<script setup>
import {onMounted, ref} from "vue"
import Quote from "~/components/quotes/Quote.vue";
const containerRef = ref(null)
const slides = ref(Array.from({ length: 10 }))
const swiper = useSwiper(containerRef, {
  loop: true,
  autoplay: {
    delay: 5000,
  },
  spaceBetween: 16,
  slidesPerView: 1,
  direction: 'horizontal',
  breakpoints: {
    640: {
      slidesPerView: 2,
      spaceBetween: 20,
    },
    1024: {
      slidesPerView: 3,
      spaceBetween: 24,
    },
    1280: {
      slidesPerView: 4,
      spaceBetween: 28,
    },
  },
})
const datas = ref([
  { title: 'Анна Каренина', author: 'Лев Толстой', text: 'Все счастливые семьи похожи друг на друга, каждая несчастливая семья несчастлива по-своему.' },
  { title: 'Преступление и наказание', author: 'Фёдор Достоевский', text: 'Если Бога нет, то всё позволено.' },
  { title: 'Маленький принц', author: 'Антуан де Сент-Экзюпери', text: 'Ты навсегда в ответе за тех, кого приручил.' },
  { title: '1984', author: 'Джордж Оруэлл', text: 'Свобода — это свобода сказать, что дважды два — четыре.' },
  { title: 'Гарри Поттер и философский камень', author: 'Дж. К. Роулинг', text: 'Не жалей о мёртвых, Гарри, жалей о живых, особенно о тех, кто живёт без любви.' },
  { title: 'Мастер и Маргарита', author: 'Михаил Булгаков', text: 'Рукописи не горят.' },
  { title: 'Алхимик', author: 'Пауло Коэльо', text: 'Когда чего-нибудь сильно захочешь, вся Вселенная будет способствовать тому, чтобы желание твоё сбылось.' },
  { title: 'Гордость и предубеждение', author: 'Джейн Остин', text: 'Глупо бояться того, что может быть.' },
  { title: 'Братья Карамазовы', author: 'Фёдор Достоевский', text: 'Человек, любящий человечество, ненавидит людей.' },
  { title: 'Старик и море', author: 'Эрнест Хемингуэй', text: 'Человек не для того создан, чтобы терпеть поражение.' },
  { title: 'Три товарища', author: 'Эрих Мария Ремарк', text: 'Любовь начинается с улыбки, растет в объятиях и умирает в слезах.' },
  { title: 'Великий Гэтсби', author: 'Фрэнсис Скотт Фицджеральд', text: 'Ибо в своей глубокой душе он верил, что если сильно захотеть чего-то, то это обязательно сбудется.' },
  { title: 'О дивный новый мир', author: 'Олдос Хаксли', text: 'Счастье — это редко удовлетворённое желание.' },
  { title: '451 градус по Фаренгейту', author: 'Рэй Брэдбери', text: 'Мы должны быть чем-то отличны друг от друга, чтобы быть счастливыми.' },
  { title: 'Дюна', author: 'Фрэнк Герберт', text: 'Страх убивает разум.' },
  { title: 'Граф Монте-Кристо', author: 'Александр Дюма', text: 'В мире есть столько всего, что нельзя купить за деньги.' },
  { title: 'Война и мир', author: 'Лев Толстой', text: 'Пока не любишь, не знаешь ни счастья, ни горя.' },
  { title: 'Призрак оперы', author: 'Гастон Леру', text: 'Любовь к музыке — это любовь к душе.' },
  { title: 'Унесённые ветром', author: 'Маргарет Митчелл', text: 'Я подумаю об этом завтра.' },
  { title: 'Портрет Дориана Грея', author: 'Оскар Уайльд', text: 'Единственный способ избавиться от искушения — это поддаться ему.' },
  { title: 'Сто лет одиночества', author: 'Габриэль Гарсиа Маркес', text: 'Тот, кто ждёт, что его полюбят, теряет время.' },
  { title: 'Над пропастью во ржи', author: 'Джером Сэлинджер', text: 'Не стоит ни о чём жалеть в этой жизни, ведь ты и сам не знал, зачем живёшь.' },
  { title: 'Лолита', author: 'Владимир Набоков', text: 'Искусство — это попытка удержать мгновение.' },
  { title: 'Тень горы', author: 'Грегори Дэвид Робертс', text: 'Любовь — это самая сильная из всех страстей.' },
  { title: 'Жажда жизни', author: 'Ирвинг Стоун', text: 'Когда любишь, время исчезает.' },
  { title: 'Айвенго', author: 'Вальтер Скотт', text: 'Надежда — это единственное, что нас никогда не покидает.' },
  { title: 'Зов предков', author: 'Джек Лондон', text: 'Природа не терпит слабости.' },
  { title: 'Моби Дик', author: 'Герман Мелвилл', text: 'Не гонитесь за своей судьбой, иначе она погонится за вами.' },
  { title: 'Крестный отец', author: 'Марио Пьюзо', text: 'Дружба важнее власти.' },
  { title: 'Бегущий за ветром', author: 'Халед Хоссейни', text: 'Есть только один грех — кража, и все другие грехи — это разновидности кражи.' },
  { title: 'Атлант расправил плечи', author: 'Айн Рэнд', text: 'Тот, кто работает, тот и управляет.' },
  { title: 'Коллекционер', author: 'Джон Фаулз', text: 'Счастье не продаётся, но его можно купить.' },
  { title: 'Престиж', author: 'Кристофер Прист', text: 'Каждое великое искусство требует жертвы.' },
  { title: 'Отверженные', author: 'Виктор Гюго', text: 'Любовь сильнее смерти.' },
  { title: 'Железный король', author: 'Морис Дрюон', text: 'Величие рождается в беде.' },
  { title: 'Улитка на склоне', author: 'Аркадий и Борис Стругацкие', text: 'Бесконечность — это то, что не имеет конца.' },
  { title: 'Туманность Андромеды', author: 'Иван Ефремов', text: 'Великие открытия начинаются с великих мечтателей.' },
  { title: 'Зеленая миля', author: 'Стивен Кинг', text: 'Смерть — это не конец, это лишь начало.' },
  { title: 'Сила подсознания', author: 'Джозеф Мэрфи', text: 'Ваши мысли формируют вашу реальность.' },
  { title: 'Мышление быстреe и медленное', author: 'Даниэль Канеман', text: 'Мысли легче принять, если они приходят с минимальными усилиями.' },
  { title: 'Искусство войны', author: 'Сунь-цзы', text: 'Величайшая победа — это победа без битвы.' },
  { title: 'Разбуди в себе исполина', author: 'Тони Роббинс', text: 'Ваши решения формируют вашу судьбу.' },
  { title: 'Атомные привычки', author: 'Джеймс Клир', text: 'Маленькие изменения создают огромные результаты.' },
  { title: 'Думай и богатей', author: 'Наполеон Хилл', text: 'Что разум может представить и во что может поверить, того он может достичь.' },
  { title: 'Чёрный лебедь', author: 'Нассим Талеб', text: 'События, которые меняют мир, почти всегда непредсказуемы.' },
  { title: 'Сапиенс: Краткая история человечества', author: 'Юваль Ной Харари', text: 'Фантазия — это то, что позволяет миллионам людей сотрудничать.' },
  { title: 'Зачем мы спим', author: 'Мэттью Уокер', text: 'Сон — это самый эффективный способ улучшить здоровье.' },
  { title: 'Эмоциональный интеллект', author: 'Даниэль Гоулман', text: 'Способность управлять своими эмоциями является ключом к успеху.' },
  { title: 'Гении и аутсайдеры', author: 'Малкольм Гладуэлл', text: 'Успех — это не только талант, но и упорный труд и время.' },
  { title: 'Богатый папа, бедный папа', author: 'Роберт Кийосаки', text: 'Работайте не ради денег, а чтобы учиться.' },
  { title: 'Семь навыков высокоэффективных людей', author: 'Стивен Кови', text: 'Начинайте с конечной цели в голове.' },
  { title: 'Искусство ясного мышления', author: 'Рольф Добелли', text: 'Мы склонны ошибаться, потому что доверяем своему интуитивному мышлению.' },
  { title: 'На пределе', author: 'Эрик Бертран Ларссен', text: 'Ваше окружение формирует ваш успех.' },
  { title: 'Алгоритмы, по которым живёт человек', author: 'Брайан Кристиан и Том Гриффитс', text: 'Оптимальные решения зависят от доступного времени и информации.' },
  { title: 'Психология влияния', author: 'Роберт Чалдини', text: 'Люди склонны говорить "да" тем, кому они доверяют.' },
  { title: 'Поток: психология оптимального переживания', author: 'Михай Чиксентмихайи', text: 'Счастье — это состояние, в котором человек полностью поглощён процессом.' },
  { title: 'Вы, конечно, шутите, мистер Фейнман!', author: 'Ричард Фейнман', text: 'Вопросы важнее ответов, потому что они открывают новые горизонты.' },
  { title: 'Магия утра', author: 'Хэл Элрод', text: 'Как вы начинаете день, так вы его и проживаете.' }
]);

const randomBooks = ref([])
const randomQuotes = () =>{
  return datas.value.sort(() => Math.random() - 0.5).slice(0, 10);
}
onMounted(()=>{
  randomBooks.value = randomQuotes();
})
</script>

<template>
  <div class="quotes main">
    <h1 class="text-2xl font-bold sm:text-3xl lg:text-4xl">Цитаты</h1>
    <ClientOnly>
      <swiper-container ref="containerRef" :init="false">
        <swiper-slide
            v-for="(slide, idx) in randomBooks"
            :key="idx"
            class="quote-slide"
        >
          <quote
          :author="slide.author"
          :text="slide.text"
          :title="slide.title"
          />
        </swiper-slide>
      </swiper-container>
    </ClientOnly>
  </div>
</template>
<style scoped>
.quotes {
  width: 100%;
  margin: auto;
  margin-bottom: 35px;
  h1{
    margin-top: 40px;
    text-align: center;
    margin-bottom: 40px;
    color: #e2e8f0;
  }
}


  :deep(swiper-slide) {
    display: flex;
    justify-content: center;
    align-items: center;
    height: auto;
    font-family: 'Roboto', sans-serif;
  }


  :deep(quote) {
    width: min(100%, 320px);
  }
.quote-slide {
  background: linear-gradient(145deg, rgba(15, 23, 42, 0.85), rgba(30, 64, 175, 0.35));
  border-radius: 24px;
  border: 1px solid rgba(226, 232, 240, 0.08);
  padding: 24px 0;
  box-shadow: 0 25px 45px rgba(79, 70, 229, 0.15);
  backdrop-filter: blur(12px);
}
</style>